<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Matrix Oyunu</title>
    <script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=d9TNVB5F7fBanR6KYZEYXQ4CQHOAnharJ6SX-JktFFcAuEddCq9VZVrzoI2kMoAC0OU1Ot92NhR0GPi2EUgjB6u_WGqkLKkzx8b3GHca7s6oAVFW4jDwOXr52P-s3jTUw1uteQ3AgsP7nSPnQc2ZMAc6XwnuFVvMEzRuo5ff9h__Mxk-VUvKcmrBe5ZJxGMlXM01ca6bgJNMyyDjEXI3MNbhLnLUvNen0Q2hl_bDgY0LgIc1nB450-T5U23moSPy4JDpKBi06t487T84jfDIYA" charset="UTF-8">
    </script><style>
    
      @font-face {
        font-family: "Digital-7";
        src: url("https://db.onlinewebfonts.com/t/8e22783d707ad140bffe18b2a3812529.woff2")
          format("woff2");
      }
      body {
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: black;
        overflow: hidden;
        font-family: "Digital-7", monospace;
      }
      @media (max-width: 768px) { 
        body {
          height: 100vh; /* Mobil ekranlarda yüksekliği viewport yüksekliği ile sınırla */
          overflow-y: auto; /* Gerekirse dikey kaydırmayı etkinleştir */
      }
      canvas {
        max-width: 100%;
        height: auto;
      }
    }  
    </style>
  </head>
  <body>
    <canvas id="gameCanvas"></canvas>
    <script>
      const canvas = document.getElementById("gameCanvas");
      const ctx = canvas.getContext("2d");

      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }

      resizeCanvas();
      window.addEventListener("resize", resizeCanvas);

      let score = 0;
      let autoClickerLevel = 0;
      let passiveIncomeLevel = 0;
      let autoClickerCost = 10;
      let passiveIncomeCost = 20;
      let passiveIncomeLevel2 = 0;
      let passiveIncomeCost2 = 100;
      let passiveIncomeLevel3 = 0;
      let passiveIncomeCost3 = 500;
      let passiveIncomeLevel4 = 0;
      let passiveIncomeCost4 = 1000;
      let passiveIncomeLevel5 = 0;
      let passiveIncomeCost5 = 2000;
      let passiveIncomeLevel6 = 0;
      let passiveIncomeCost6 = 3000;
      let rotationAngle = 0;
      let lastClickTime = 0;
      let clicksPerSecond = 0;
      let buttonScale = 1;
      let isButtonAnimating = false;
      let lastPassiveIncomeUpdateTime = 0;
      let accumulatedPassiveIncome = 0;
      let accumulatedTime = 0;
      let energy = 100;  // Başlangıç enerjisi
      let maxEnergy = 100; // Maksimum enerji
      let energyRegenPerSecond = 1; // Saniyede yenilenecek enerji miktarı
      let lastEnergyUpdateTime = 0; // Enerji en son ne zaman güncellendi?


      let flyingScores = [];
      
      const menuButton = {
        x: canvas.width * 0.13,
        y: canvas.height * 0.86, // Position at the bottom
        width: canvas.width * 0.22,
        height: canvas.height * 0.115,
      };

      let ismenuOpen = false;

      const button = {
        x: canvas.width / 2,
        y: canvas.height / 2,
        width: canvas.width * 0.7,
        height: canvas.height * 0.5,
      };

      const boostButton = {
        x: canvas.width * 0.38,
        y: canvas.height * 0.86, // Position at the bottom
        width: canvas.width * 0.22,
        height: canvas.height * 0.115,
      };

      let isboostOpen = false;

      const boardButton = {
        x: canvas.width * 0.624,
        y: canvas.height * 0.86, // Position at the bottom
        width: canvas.width * 0.22,
        height: canvas.height * 0.115,
      };

      let isboardOpen = false;

      const shopButton = {
        x: canvas.width * 0.87,
        y: canvas.height * 0.86, // Position at the bottom
        width: canvas.width * 0.22,
        height: canvas.height * 0.115,
      };

      let isshopOpen = false;

      const autoClickerButton = {
        x: canvas.width * 0.5,
        y: canvas.height * 0.69,
        width: canvas.width * 0.95,
        height: canvas.height * 0.15,
      };

      const passiveIncomeButton = {
        x: canvas.width * 0.5,
        y: canvas.height * 0.21,
        width: canvas.width * 0.95,
        height: canvas.height * 0.09,
      };

      const passiveIncomeButton2 = {
        x: canvas.width * 0.5,
        y: canvas.height * 0.31,
        width: canvas.width * 0.95,
        height: canvas.height * 0.09,
      };

      const passiveIncomeButton3 = {
        x: canvas.width * 0.5,
        y: canvas.height * 0.41,
        width: canvas.width * 0.95,
        height: canvas.height * 0.09,
      };

      const passiveIncomeButton4 = {
        x: canvas.width * 0.5,
        y: canvas.height * 0.51,
        width: canvas.width * 0.95,
        height: canvas.height * 0.09,
      };

      const passiveIncomeButton5 = {
        x: canvas.width * 0.5,
        y: canvas.height * 0.61,
        width: canvas.width * 0.95,
        height: canvas.height * 0.09,
      };

      const passiveIncomeButton6 = {
        x: canvas.width * 0.5,
        y: canvas.height * 0.71,
        width: canvas.width * 0.95,
        height: canvas.height * 0.09,
      };

      const closemenuButton = {
        x: canvas.width * 0.8275,
        y: canvas.height * 0.14,
        width: canvas.width * 0.3,
        height: canvas.height * 0.06,
      };

      const characters = "110";
      const drops = [];
      const dropCount = 100;
      for (let i = 0; i < dropCount; i++) {
        drops.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          length: Math.floor(Math.random() * 5) + 5,
          speed: Math.random() * 2 + 2,
        });
      }

      function gameLoop() {
        update();
        draw();
        drawScoreBox();
        drawBoosttimerBox();
        drawEnergyBox();
        drawDataBox();
        drawPassiveincomeBox();
        requestAnimationFrame(gameLoop);
      }
      function updateEnergy(currentTime) {
        const elapsedTime = (currentTime - lastEnergyUpdateTime) / 1000; // Geçen süre (saniye)
        const energyIncrease = energyRegenPerSecond * elapsedTime;
        if (energyIncrease >= 1) {
            energy = Math.min(energy + Math.floor(energyIncrease), maxEnergy); // maxEnergy'yi aşma kontrolü
            lastEnergyUpdateTime = currentTime;
        }

        energy = Math.max(energy, 0); // Enerjiyi 0'ın altında tutma
    }
        
    function update() {
        const currentTime = Date.now();
        updateEnergy(currentTime);
        const elapsedSeconds = (currentTime - lastPassiveIncomeUpdateTime) / 1000;

        if (elapsedSeconds >= 1000) { // Her 100 milisaniyede bir güncelle
            const totalPassiveIncome = calculateTotalPassiveIncome() * elapsedSeconds;
            accumulatedPassiveIncome += totalPassiveIncome;

            if (accumulatedPassiveIncome >= 1) {
            const wholeIncome = Math.floor(accumulatedPassiveIncome);
            score += wholeIncome;
            accumulatedPassiveIncome -= wholeIncome;
            }

            lastPassiveIncomeUpdateTime = currentTime;
    }
      
        
        score += passiveIncomeLevel * 0.01;
        score += passiveIncomeLevel2 * 0.015;
        score += passiveIncomeLevel3 * 0.02;
        score += passiveIncomeLevel4 * 0.025;
        score += passiveIncomeLevel5 * 0.03;
        score += passiveIncomeLevel6 * 0.035;
        animateButton();

        passiveIncomes.forEach((income, index) => {
            income.level = [passiveIncomeLevel, passiveIncomeLevel2, passiveIncomeLevel3, passiveIncomeLevel4, passiveIncomeLevel5, passiveIncomeLevel6][index];
        });
            
        drops.forEach((drop) => {
          drop.y += drop.speed;
          if (drop.y > canvas.height) {
            drop.y = 0;
            drop.x = Math.random() * canvas.width;
          }
        });

        flyingScores = flyingScores.filter((fs) => {
          fs.y -= 2;
          fs.opacity -= 0.02;
          return fs.opacity > 0;
        });

      }
      const passiveIncomes = [
        { level: passiveIncomeLevel, incomePerSecond: 0.1 },
        { level: passiveIncomeLevel2, incomePerSecond: 0.15 },
        { level: passiveIncomeLevel3, incomePerSecond: 0.2 },
        { level: passiveIncomeLevel4, incomePerSecond: 0.25 },
        { level: passiveIncomeLevel5, incomePerSecond: 0.3 },
        { level: passiveIncomeLevel6, incomePerSecond: 0.35 },
        ];

      function drawRoundedRect(x, y, width, height, radius) {
        ctx.beginPath();
        ctx.moveTo(x + radius, y);
        ctx.lineTo(x + width - radius, y);
        ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
        ctx.lineTo(x + width, y + height - radius);
        ctx.quadraticCurveTo(
          x + width,
          y + height,
          x + width - radius,
          y + height
        );
        ctx.lineTo(x + radius, y + height);
        ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
        ctx.lineTo(x, y + radius);
        ctx.quadraticCurveTo(x, y, x + radius, y);
        ctx.closePath();
      }      

      function draw() {
        ctx.fillStyle = "rgba(0, 0, 0, 0.1)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        const buttonWidth = canvas.width * 0.49;
        const buttonHeight = canvas.height * 0.25;
        const cornerRadius = 228;
        
        ctx.font = `${canvas.width * 0.045}px Digital-7`;
        drops.forEach((drop) => {
          for (let i = 0; i < drop.length; i++) {
            const char =
              characters[Math.floor(Math.random() * characters.length)];
            const alpha = 1 - i / drop.length;
            ctx.fillStyle = `rgba(0, 255, 0, ${alpha})`;
            ctx.fillText(char, drop.x, drop.y - i * 50);
          }
        });
        ctx.save();
        ctx.translate(button.x, button.y);
        ctx.scale(buttonScale, buttonScale);

        ctx.shadowColor = "#00FF00";
        ctx.shadowBlur = 10;

        ctx.fillStyle = "#1A1A1A";
        drawRoundedRect(-buttonWidth / 2, -buttonHeight / 2, buttonWidth, buttonHeight, cornerRadius);
        ctx.fill();

        ctx.strokeStyle = "#00FF00";
        ctx.lineWidth = 2;
        ctx.stroke();

        ctx.fillStyle = "#00FF00";
        ctx.font = `${canvas.width * 0.09}px Digital-7`;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText("Enter", 0, 0);

        ctx.shadowBlur = 0;

        for (let i = 0; i < 15; i++) {
          ctx.beginPath();
          ctx.moveTo(0, 0);
          const lineLength = button.radius + (i * 0, 1);
          ctx.lineTo(0, lineLength);

          const alpha = 1 - i / 11;
          ctx.strokeStyle = `rgba(0, 255, 0, ${alpha})`;
          ctx.lineWidth = 1;
          ctx.stroke();

          ctx.rotate(Math.PI / 5);
        }

        ctx.restore();
        rotationAngle += 0.03;
        const buttonRadius =Math.min(autoClickerButton.width, autoClickerButton.height) * 0.2;

        ctx.shadowColor = "#00FF00";
        ctx.shadowBlur = 10;

        drawButton(menuButton);
        ctx.fillStyle = "#00FF00"; // Yeşil renk
        ctx.font = `${canvas.width * 0.06}px Digital-7`; // İstediğiniz font boyutunu ayarlayın
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText("skill", menuButton.x, menuButton.y + menuButton.height / 2);

        drawButton(boostButton);
        ctx.fillStyle = "#00FF00"; // Yeşil renk
        ctx.font = `${canvas.width * 0.06}px Digital-7`; // İstediğiniz font boyutunu ayarlayın
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText("device", boostButton.x, boostButton.y + boostButton.height / 2);

        drawButton(boardButton); // Text parametresi olmadan çağır

        // Sadece "leaderboard" butonu için yazı stilini değiştir
        ctx.fillStyle = "#00FF00"; // Yeşil renk
        ctx.font = `${canvas.width * 0.06}px Digital-7`; // İstediğiniz font boyutunu ayarlayın
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText("board", boardButton.x, boardButton.y + boardButton.height / 2);


        drawButton(shopButton); // Text parametresi olmadan çağır

        // Sadece "shop" butonu için yazı stilini değiştir
        ctx.fillStyle = "#00FF00"; // Yeşil renk
        ctx.font = `${canvas.width * 0.06}px Digital-7`; // İstediğiniz font boyutunu ayarlayın
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText("shop", shopButton.x, shopButton.y + shopButton.height / 2);

        ctx.shadowBlur = 0;

        ctx.fillStyle = "#00FF00";
        ctx.font = `${canvas.width * 0.04}px Digital-7`;
        ctx.textAlign = "center";

        if (ismenuOpen) {
          drawmenuScreen();
        }
        if (isboostOpen) {
          drawboostScreen();
        }
        if (isboardOpen) {
          drawboardScreen();
        }
        if (isshopOpen) {
          drawshopScreen();
        }
        
        flyingScores.forEach((fs) => {
          ctx.fillStyle = `rgba(0, 255, 0, ${fs.opacity})`;
          ctx.font = `bold ${canvas.width * 0.08}px Digital-7`;
          ctx.strokeStyle = "black";
          ctx.lineWidth = 2;
          ctx.strokeText(`+${fs.value}`, fs.x, fs.y);
          ctx.fillText(`+${fs.value}`, fs.x, fs.y);
        });
      }

      function animateButton() {
        if (isButtonAnimating) {
          buttonScale -= 0.05;
          if (buttonScale <= 0.9) {
            buttonScale = 0.9;
            isButtonAnimating = false;
          }
        } else {
          buttonScale += 0.05;
          if (buttonScale >= 1) {
            buttonScale = 1;
          }
        }
      }
      //score tablosu
      function drawScoreBox() {
        const boxWidth = canvas.width * 0.5;
        const boxHeight = canvas.height * 0.08;
        const cornerRadius = 0;
        const boxX = canvas.width * 0.25 - boxWidth / 2;
        const boxY = canvas.height * 0.0001;

        // Dış parlama efekti
        ctx.shadowColor = "#00FF00";
        ctx.shadowBlur = 10;

        // Birinci çerçeve (daha büyük ve farklı renk)
        ctx.fillStyle = "#006400"; // Koyu yeşil renk
        drawRoundedRect(boxX - 2, boxY - 2, boxWidth + 4, boxHeight + 4, cornerRadius + 2);
        ctx.fill();

        // İkinci çerçeve (daha küçük ve siyah)
        ctx.fillStyle = "#000000"; // Siyah renk
        drawRoundedRect(boxX, boxY, boxWidth, boxHeight, cornerRadius);
        ctx.fill();

        // İç parlama efekti
        ctx.shadowColor = "#00FF00";
        ctx.shadowBlur = 10;

        // Kutunun içi
        ctx.fillStyle = "#1A1A1A"; // Koyu gri renk
        drawRoundedRect(boxX + 5, boxY + 5, boxWidth - 10, boxHeight - 10, cornerRadius - 5);
        ctx.fill();

        // Parlama efektini sıfırla
        ctx.shadowBlur = 0;

        // Yazı
        ctx.fillStyle = "#00FF00"; // Yeşil renk
        ctx.font = `bold ${canvas.width * 0.032}px Digital-7`;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText("decryption score", boxX + boxWidth / 2, boxY + boxHeight / 2.2 - 10);
        ctx.font = `bold ${canvas.width * 0.04}px Digital-7`;
        ctx.fillText(score.toFixed(0), boxX + boxWidth / 2, boxY + boxHeight / 1.9 + 10);
    }
    

    //data tablosu
    function drawDataBox() {
        const boxWidth = canvas.width * 0.3;
        const boxHeight = canvas.height * 0.04;
        const cornerRadius = 0;
        const boxX = canvas.width * 0.8495 - boxWidth / 2;
        const boxY = canvas.height * 0.083;

        // Dış parlama efekti
        ctx.shadowColor = "#00FF00";
        ctx.shadowBlur = 15;

        // Birinci çerçeve (daha büyük ve farklı renk)
        ctx.fillStyle = "#006400"; // Koyu yeşil renk
        drawRoundedRect(boxX - 2, boxY - 2, boxWidth + 4, boxHeight + 4, cornerRadius + 2);
        ctx.fill();

        // İkinci çerçeve (daha küçük ve siyah)
        ctx.fillStyle = "#000000"; // Siyah renk
        drawRoundedRect(boxX, boxY, boxWidth, boxHeight, cornerRadius);
        ctx.fill();

        // İç parlama efekti
        ctx.shadowColor = "#00FF00";
        ctx.shadowBlur = 10;

        // Kutunun içi
        ctx.fillStyle = "#1A1A1A"; // Koyu gri renk
        drawRoundedRect(boxX + 5, boxY + 5, boxWidth - 10, boxHeight - 10, cornerRadius - 5);
        ctx.fill();

        // Parlama efektini sıfırla
        ctx.shadowBlur = 0;

        // Yazı
        ctx.fillStyle = "#00FF00"; // Yeşil renk
        ctx.font = `bold ${canvas.width * 0.031}px Digital-7`;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText("data", boxX + boxWidth / 4, boxY + boxHeight / 1.3 - 10);
        ctx.fillText("0", boxX + boxWidth / 1.5, boxY + boxHeight / 1.3 - 10);
    }

    function calculateTotalPassiveIncome() {
        let total = 0;
        passiveIncomes.forEach(income => {
            total += income.level * income.incomePerSecond;
        });
        return total;
    }
        //passive income tablosu
    function drawPassiveincomeBox() {
        const boxWidth = canvas.width * 0.39;
        const boxHeight = canvas.height * 0.04;
        const cornerRadius = 0;
        const boxX = canvas.width * 0.5 - boxWidth / 2;
        const boxY = canvas.height * 0.083;
        const totalPassiveIncome = calculateTotalPassiveIncome();

        // Dış parlama efekti
        ctx.shadowColor = "#00FF00";
        ctx.shadowBlur = 10;

        // Birinci çerçeve (daha büyük ve farklı renk)
        ctx.fillStyle = "#006400"; // Koyu yeşil renk
        drawRoundedRect(boxX - 2, boxY - 2, boxWidth + 4, boxHeight + 4, cornerRadius + 2);
        ctx.fill();

        // İkinci çerçeve (daha küçük ve siyah)
        ctx.fillStyle = "#000000"; // Siyah renk
        drawRoundedRect(boxX, boxY, boxWidth, boxHeight, cornerRadius);
        ctx.fill();

        // İç parlama efekti
        ctx.shadowColor = "#00FF00";
        ctx.shadowBlur = 10;

        // Kutunun içi
        ctx.fillStyle = "#1A1A1A"; // Koyu gri renk
        drawRoundedRect(boxX + 5, boxY + 5, boxWidth - 10, boxHeight - 10, cornerRadius - 5);
        ctx.fill();

        // Parlama efektini sıfırla
        ctx.shadowBlur = 0;

        // Yazı
        ctx.fillStyle = "#00FF00"; // Yeşil renk
        ctx.font = `bold ${canvas.width * 0.031}px Digital-7`;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText("devices", boxX + boxWidth / 4, boxY + boxHeight / 1.3 - 10);
        ctx.fillText(`${totalPassiveIncome.toFixed(1)}/sec`, boxX + boxWidth / 1.5, boxY + boxHeight / 1.3 - 10);
    }

        //Energy tablosu
    function drawEnergyBox() {
        const boxWidth = canvas.width * 0.3;
        const boxHeight = canvas.height * 0.04;
        const cornerRadius = 0;
        const boxX = canvas.width * 0.15 - boxWidth / 2;
        const boxY = canvas.height * 0.083;

        // Dış parlama efekti
        ctx.shadowColor = "#00FF00";
        ctx.shadowBlur = 15;

        // Birinci çerçeve (daha büyük ve farklı renk)
        ctx.fillStyle = "#006400"; // Koyu yeşil renk
        drawRoundedRect(boxX - 2, boxY - 2, boxWidth + 4, boxHeight + 4, cornerRadius + 2);
        ctx.fill();

        // İkinci çerçeve (daha küçük ve siyah)
        ctx.fillStyle = "#000000"; // Siyah renk
        drawRoundedRect(boxX, boxY, boxWidth, boxHeight, cornerRadius);
        ctx.fill();

        // İç parlama efekti
        ctx.shadowColor = "#00FF00";
        ctx.shadowBlur = 10;

        // Kutunun içi
        ctx.fillStyle = "#1A1A1A"; // Koyu gri renk
        drawRoundedRect(boxX + 5, boxY + 5, boxWidth - 10, boxHeight - 10, cornerRadius - 5);
        ctx.fill();

        // Parlama efektini sıfırla
        ctx.shadowBlur = 0;

        // Yazı
        ctx.fillStyle = "#00FF00"; // Yeşil renk
        ctx.font = `bold ${canvas.width * 0.031}px Digital-7`;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText("energy", boxX + boxWidth / 4, boxY + boxHeight / 1.3 - 10);
        ctx.fillText(`${Math.floor(energy)}/${maxEnergy}`, boxX + boxWidth / 1.5, boxY + boxHeight / 1.3 - 10);
    }
    

    //boost tablosu
    function drawBoosttimerBox() {
        const boxWidth = canvas.width * 0.5;
        const boxHeight = canvas.height * 0.08;
        const cornerRadius = 0;
        const boxX = canvas.width * 0.75 - boxWidth / 2;
        const boxY = canvas.height * 0.0001;
        const now = new Date();
        const targetDate = new Date(2024, 11, 1); // Month is 0-indexed (11 is December)
        let timeRemaining = targetDate - now;
        timeRemaining = Math.max(timeRemaining, 0);
        const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);

        // Format the time (add leading zeros for single digits)
        const timeString = `${days.toString().padStart(2,'0')}:${hours.toString().padStart(2,'0')}:${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
        // Dış parlama efekti
        ctx.shadowColor = "#00FF00";
        ctx.shadowBlur = 10;

        // Birinci çerçeve (daha büyük ve farklı renk)
        ctx.fillStyle = "#006400"; // Koyu yeşil renk
        drawRoundedRect(boxX - 2, boxY - 2, boxWidth + 4, boxHeight + 4, cornerRadius + 2);
        ctx.fill();

        // İkinci çerçeve (daha küçük ve siyah)
        ctx.fillStyle = "#000000"; // Siyah renk
        drawRoundedRect(boxX, boxY, boxWidth, boxHeight, cornerRadius);
        ctx.fill();

        // İç parlama efekti
        ctx.shadowColor = "#00FF00";
        ctx.shadowBlur = 10;

        // Kutunun içi
        ctx.fillStyle = "#1A1A1A"; // Koyu gri renk
        drawRoundedRect(boxX + 5, boxY + 5, boxWidth - 10, boxHeight - 10, cornerRadius - 5);
        ctx.fill();

        // Parlama efektini sıfırla
        ctx.shadowBlur = 0;

        // Yazı
        ctx.fillStyle = "#00FF00"; // Yeşil renk
        ctx.font = `bold ${canvas.width * 0.05}px Digital-7`;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        
        ctx.fillText("vault timer", boxX + boxWidth / 2, boxY + boxHeight / 3.2 );
        ctx.fillText(timeString, boxX + boxWidth / 2, boxY + boxHeight / 11 + 42);

    }


      function drawboostScreen() {
        // Replace this with your actual boost screen content
        ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        ctx.fillStyle = "#00FF00";
        ctx.font = `bold ${canvas.width * 0.09}px Digital-7`;
        ctx.textAlign = "center";
        ctx.fillText("device menu", canvas.width / 3, canvas.height * 0.17);
        const buttonRadius =Math.min(closemenuButton.width, closemenuButton.height) * 0.2;

        function drawButton(button, text= "") {
            const boxX = button.x - button.width / 2;
            const boxY = button.y;
            const boxWidth = button.width;
            const boxHeight = button.height;
            const cornerRadius = buttonRadius;

            // Dış parlama efekti
            ctx.shadowColor = "#00FF00";
            ctx.shadowBlur = 15;

            // Birinci çerçeve (daha büyük ve farklı renk)
            ctx.fillStyle = "#006400"; // Koyu yeşil renk
            drawRoundedRect(boxX - 2, boxY - 2, boxWidth + 4, boxHeight + 4, cornerRadius + 2);
            ctx.fill();

            // İkinci çerçeve (daha küçük ve siyah)
            ctx.fillStyle = "#000000"; // Siyah renk
            drawRoundedRect(boxX, boxY, boxWidth, boxHeight, cornerRadius);
            ctx.fill();

            // İç parlama efekti
            ctx.shadowColor = "#00FF00";
            ctx.shadowBlur = 10;

            // Kutunun içi
            ctx.fillStyle = "#1A1A1A"; // Koyu gri renk
            drawRoundedRect(boxX + 5, boxY + 5, boxWidth - 10, boxHeight - 10, cornerRadius - 5);
            ctx.fill();

            // Parlama efektini sıfırla
            ctx.shadowBlur = 0;

            // Yazı
            ctx.fillStyle = "#00FF00"; // Yeşil renk
            ctx.font = `${canvas.width * 0.095}px Digital-7`;
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText(text, button.x, button.y + button.height / 4+7);
        }

            // Butonları çiz
            //tuş1
            drawButton(passiveIncomeButton, ` calculator `);
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.085}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`(${passiveIncomeLevel})`, passiveIncomeButton.x-180, passiveIncomeButton.y + passiveIncomeButton.height / 2 );
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.045}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`Cost: ${passiveIncomeCost}`, passiveIncomeButton.x+170, passiveIncomeButton.y + passiveIncomeButton.height / 2 );
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.035}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`(${passiveIncomeLevel}) -> (${passiveIncomeLevel+1}) ${passiveIncomes[0].level * passiveIncomes[0].incomePerSecond.toFixed(2)}/sec -> ${(passiveIncomes[0].level + 1) * passiveIncomes[0].incomePerSecond.toFixed(2)}/sec`, passiveIncomeButton.x, passiveIncomeButton.y + passiveIncomeButton.height / 2 + 20);
            //tuş2
            drawButton(passiveIncomeButton2, ` mobile phone `);
            // Bir sonraki seviyedeki pasif gelir bilgisini iki satır halinde yazdır
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.085}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`(${passiveIncomeLevel2})`, passiveIncomeButton2.x-180, passiveIncomeButton2.y + passiveIncomeButton2.height / 2 );
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.045}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`Cost: ${passiveIncomeCost2}`, passiveIncomeButton2.x+170, passiveIncomeButton2.y + passiveIncomeButton2.height / 2 );
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.035}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`(${passiveIncomeLevel2}) -> (${passiveIncomeLevel2+1}) ${passiveIncomes[1].level * passiveIncomes[1].incomePerSecond.toFixed(2)}/sec -> ${(passiveIncomes[1].level + 1) * passiveIncomes[1].incomePerSecond.toFixed(2)}/sec`, passiveIncomeButton2.x, passiveIncomeButton2.y + passiveIncomeButton2.height / 2 + 20);
            //tuş3
            drawButton(passiveIncomeButton3, `smart phone `);
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.085}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`(${passiveIncomeLevel3})`, passiveIncomeButton3.x-180, passiveIncomeButton3.y + passiveIncomeButton3.height / 2 );
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.045}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`Cost: ${passiveIncomeCost3}`, passiveIncomeButton3.x+170, passiveIncomeButton3.y + passiveIncomeButton3.height / 2 );
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.035}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`(${passiveIncomeLevel3}) -> (${passiveIncomeLevel3+1}) ${passiveIncomes[2].level * passiveIncomes[2].incomePerSecond.toFixed(2)}/sec -> ${(passiveIncomes[2].level + 1) * passiveIncomes[2].incomePerSecond.toFixed(2)}/sec`, passiveIncomeButton3.x, passiveIncomeButton3.y + passiveIncomeButton3.height / 2 + 20);
            //tuş4
            drawButton(passiveIncomeButton4, ` Notebook `);
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.085}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`(${passiveIncomeLevel4})`, passiveIncomeButton4.x-180, passiveIncomeButton4.y + passiveIncomeButton4.height / 2 );
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.045}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`Cost: ${passiveIncomeCost4}`, passiveIncomeButton4.x+170, passiveIncomeButton4.y + passiveIncomeButton4.height / 2 );
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.035}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`(${passiveIncomeLevel4}) -> (${passiveIncomeLevel4+1}) ${passiveIncomes[3].level * passiveIncomes[3].incomePerSecond.toFixed(2)}/sec -> ${(passiveIncomes[3].level + 1) * passiveIncomes[3].incomePerSecond.toFixed(2)}/sec`, passiveIncomeButton4.x, passiveIncomeButton4.y + passiveIncomeButton4.height / 2 + 20);
            //tuş5
            drawButton(passiveIncomeButton5, ` Gaming pc `);
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.085}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`(${passiveIncomeLevel5})`, passiveIncomeButton5.x-180, passiveIncomeButton5.y + passiveIncomeButton5.height / 2 );
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.045}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`Cost: ${passiveIncomeCost5}`, passiveIncomeButton5.x+170, passiveIncomeButton5.y + passiveIncomeButton5.height / 2 );
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.035}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`(${passiveIncomeLevel5}) -> (${passiveIncomeLevel5+1}) ${passiveIncomes[4].level * passiveIncomes[4].incomePerSecond.toFixed(2)}/sec -> ${(passiveIncomes[4].level + 1) * passiveIncomes[4].incomePerSecond.toFixed(2)}/sec`, passiveIncomeButton5.x, passiveIncomeButton5.y + passiveIncomeButton5.height / 2 + 20);
            //tuş6
            drawButton(passiveIncomeButton6, `Workstation `);
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.085}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`(${passiveIncomeLevel6})`, passiveIncomeButton6.x-180, passiveIncomeButton6.y + passiveIncomeButton6.height / 2 );
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.045}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`Cost: ${passiveIncomeCost6}`, passiveIncomeButton6.x+170, passiveIncomeButton6.y + passiveIncomeButton6.height / 2 );
            ctx.fillStyle = "#00FF00";
            ctx.font = `${canvas.width * 0.035}px Digital-7`;
            ctx.textAlign = "center";
            ctx.fillText(`(${passiveIncomeLevel6}) -> (${passiveIncomeLevel6+1}) ${passiveIncomes[5].level * passiveIncomes[5].incomePerSecond.toFixed(2)}/sec -> ${(passiveIncomes[5].level + 1) * passiveIncomes[5].incomePerSecond.toFixed(2)}/sec`, passiveIncomeButton6.x, passiveIncomeButton6.y + passiveIncomeButton6.height / 2 + 20);

            // "Back" butonunu aynı stil ile çiz
            drawButton(closemenuButton, "",);
            ctx.font = `${canvas.width * 0.04}px Digital-7`; // Yazı boyutunu büyütmek için 0.06 gibi bir değer kullanın
            ctx.fillText("Back", closemenuButton.x, closemenuButton.y + closemenuButton.height / 2);
            }

        function drawboardScreen() {
                ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = "#00FF00";
                ctx.font = `bold ${canvas.width * 0.09}px Digital-7`;
                ctx.textAlign = "center";
                ctx.fillText("leaderboard ", canvas.width / 3, canvas.height * 0.17);
                const buttonRadius =Math.min(closemenuButton.width, closemenuButton.height) * 0.2;

                const text = "(Under Construction)";
                const textX = canvas.width / 2;
                const textY = canvas.height * 0.5;

                // Metin ölçüleri
                const textWidth = ctx.measureText(text).width;
                const textHeight = ctx.measureText(text).actualBoundingBoxAscent + ctx.measureText(text).actualBoundingBoxDescent;

                // Font boyutunu belirle (Örneğin, 50 piksel)
                const fontSize = canvas.width * 0.09;  // Canvas genişliğinin %12'si kadar

                // Parlama Efekti
                ctx.shadowColor = "#00FF00";
                ctx.shadowBlur = 15;

                // Dış Yeşil Metin (Parlama efekti için)
                ctx.fillStyle = "#00FF00";
                ctx.font = `bold ${fontSize}px Digital-7`; // Font boyutunu ayarla
                ctx.fillText(text, textX, textY);

                // Parlama efektini sıfırla
                ctx.shadowBlur = 0;

                // İç Siyah Metin
                ctx.fillStyle = "black";
                ctx.font = `bold ${fontSize}px Digital-7`; // Font boyutunu ayarla
                ctx.fillText(text, textX, textY);

                // İç Yeşil Metin
                ctx.fillStyle = "#00FF00";
                ctx.font = `bold ${fontSize}px Digital-7`; // Font boyutunu ayarla
                ctx.fillText(text, textX, textY);              

                // Buton çizme fonksiyonunu çağır
                drawButton(closemenuButton, "Back");
                }

                // Parlama efektli buton çizme fonksiyonu
        function drawButton(button, text= "") {
            const boxX = button.x - button.width / 2;
            const boxY = button.y;
            const boxWidth = button.width;
            const boxHeight = button.height;
            const buttonRadius = Math.min(button.width, button.height) * 0.4;

            // Dış parlama efekti
            ctx.shadowColor = "#00FF00";
            ctx.shadowBlur = 15;

            // Birinci çerçeve (daha büyük ve farklı renk)
            ctx.fillStyle = "#006400"; // Koyu yeşil renk
            drawRoundedRect(boxX - 2, boxY - 2, boxWidth + 4, boxHeight + 4, buttonRadius + 2);
            ctx.fill();

            // İkinci çerçeve (daha küçük ve siyah)
            ctx.fillStyle = "#000000"; // Siyah renk
            drawRoundedRect(boxX, boxY, boxWidth, boxHeight, buttonRadius);
            ctx.fill();

            // İç parlama efekti
            ctx.shadowColor = "#00FF00";
            ctx.shadowBlur = 10;

            // Kutunun içi
            ctx.fillStyle = "#1A1A1A"; // Koyu gri renk
            drawRoundedRect(boxX + 5, boxY + 5, boxWidth - 10, boxHeight - 10, buttonRadius - 5);
            ctx.fill();

            // Parlama efektini sıfırla
            ctx.shadowBlur = 0;

            // Yazı
            ctx.fillStyle = "#00FF00"; // Yeşil renk
            ctx.font = `${canvas.width * 0.05}px Digital-7`; // Yazı boyutunu ayarla
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText(text, button.x, button.y + button.height / 2);
            }

            function drawshopScreen() {
                ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = "#00FF00";
                ctx.font = `bold ${canvas.width * 0.09}px Digital-7`;
                ctx.textAlign = "center";
                ctx.fillText("shop menu", canvas.width / 3, canvas.height * 0.17);
                const buttonRadius =Math.min(closemenuButton.width, closemenuButton.height) * 0.2;

                const text = "(Under Construction)"; // Türkçe metin
                const textX = canvas.width / 2;
                const textY = canvas.height * 0.5;

                // Metin ölçüleri
                const textWidth = ctx.measureText(text).width;
                const textHeight = ctx.measureText(text).actualBoundingBoxAscent + ctx.measureText(text).actualBoundingBoxDescent;

                // Font boyutunu belirle (Örneğin, 50 piksel)
                const fontSize = canvas.width * 0.09;  // Canvas genişliğinin %12'si kadar

                // Parlama Efekti
                ctx.shadowColor = "#00FF00"; // Parlama rengi (yeşil)
                ctx.shadowBlur = 15;         // Parlama bulanıklığı

                // Dış Yeşil Metin (Parlama efekti için)
                ctx.fillStyle = "#00FF00";
                ctx.font = `bold ${fontSize}px Digital-7`;
                ctx.fillText(text, textX, textY);

                // Parlama efektini sıfırla
                ctx.shadowBlur = 0;

                // İç Siyah Metin
                ctx.fillStyle = "black";
                ctx.font = `bold ${fontSize}px Digital-7`;
                ctx.fillText(text, textX, textY);

                // İç Yeşil Metin
                ctx.fillStyle = "#00FF00";
                ctx.font = `bold ${fontSize}px Digital-7`;
                ctx.fillText(text, textX, textY);

                // Geri Butonu
                drawButton(closemenuButton, "Back"); // Mevcut buton çizim fonksiyonunu kullanın
            }

      function drawmenuScreen() {
        ctx.fillStyle = "rgba(0, 0, 0, 0.8)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        ctx.fillStyle = "#00FF00";
        ctx.font = `bold ${canvas.width * 0.09}px Digital-7`;
        ctx.textAlign = "center";
        ctx.fillText("skill menu", canvas.width / 3, canvas.height * 0.17);
        const buttonRadius =Math.min(closemenuButton.width, closemenuButton.height) * 0.2;


        function drawButton(button, text= "") {
            const boxX = button.x - button.width / 2;
            const boxY = button.y;
            const boxWidth = button.width;
            const boxHeight = button.height;
            const cornerRadius = buttonRadius;

            // Dış parlama efekti
            ctx.shadowColor = "#00FF00";
            ctx.shadowBlur = 15;

            // Birinci çerçeve (daha büyük ve farklı renk)
            ctx.fillStyle = "#006400"; // Koyu yeşil renk
            drawRoundedRect(boxX - 2, boxY - 2, boxWidth + 4, boxHeight + 4, cornerRadius + 2);
            ctx.fill();

            // İkinci çerçeve (daha küçük ve siyah)
            ctx.fillStyle = "#000000"; // Siyah renk
            drawRoundedRect(boxX, boxY, boxWidth, boxHeight, cornerRadius);
            ctx.fill();

            // İç parlama efekti
            ctx.shadowColor = "#00FF00";
            ctx.shadowBlur = 30;

            // Kutunun içi
            ctx.fillStyle = "#1A1A1A"; // Koyu gri renk
            drawRoundedRect(boxX + 5, boxY + 5, boxWidth - 10, boxHeight - 10, cornerRadius - 5);
            ctx.fill();

            // Parlama efektini sıfırla
            ctx.shadowBlur = 0;

            // Yazı
            ctx.fillStyle = "#00FF00"; // Yeşil renk
            ctx.font = `${canvas.width * 0.04}px Digital-7`;
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText(text, button.x, button.y + button.height / 2);
        }

        drawButton(autoClickerButton,`Level(${autoClickerLevel}) upgrade skill Cost: ${autoClickerCost}`);
        drawButton(closemenuButton, "Back");     
      }
      
      canvas.addEventListener("click", (e) => {
        const rect = canvas.getBoundingClientRect();
        const x = (e.clientX - rect.left) * (canvas.width / rect.width);
        const y = (e.clientY - rect.top) * (canvas.height / rect.height);

        function isPointInRect(x, y, rect) {
          return (
            x > rect.x - rect.width / 2 &&
            x < rect.x + rect.width / 2 &&
            y > rect.y &&
            y < rect.y + rect.height
          );
        }

        // Check if any menu is open before handling other button clicks
        if (ismenuOpen || isboostOpen || isshopOpen || isboardOpen) {
          // handle close buttons
          if (isPointInRect(x, y, closemenuButton)) {
            if (ismenuOpen) ismenuOpen = false;
            if (isboostOpen) isboostOpen = false;
            if (isshopOpen) isshopOpen = false;
            if (isboardOpen) isboardOpen = false;
          }

          // boost screen buttons
          if (isboostOpen) {
            if (isPointInRect(x, y, passiveIncomeButton)) {
              if (score >= passiveIncomeCost) {
                score -= passiveIncomeCost;
                passiveIncomeLevel++;
                passiveIncomeCost *= 2;
              }
            } else if (isPointInRect(x, y, passiveIncomeButton2)) {
              if (score >= passiveIncomeCost2) {
                score -= passiveIncomeCost2;
                passiveIncomeLevel2++;
                passiveIncomeCost2 *= 2;
              }
            } else if (isPointInRect(x, y, passiveIncomeButton3)) {
              if (score >= passiveIncomeCost3) {
                score -= passiveIncomeCost3;
                passiveIncomeLevel3++;
                passiveIncomeCost3 *= 2;
              }
            } else if (isPointInRect(x, y, passiveIncomeButton4)) {
              if (score >= passiveIncomeCost4) {
                score -= passiveIncomeCost4;
                passiveIncomeLevel4++;
                passiveIncomeCost4 *= 2;
              }
            } else if (isPointInRect(x, y, passiveIncomeButton5)) {
              if (score >= passiveIncomeCost5) {
                score -= passiveIncomeCost5;
                passiveIncomeLevel5++;
                passiveIncomeCost5 *= 2;
              }
            } else if (isPointInRect(x, y, passiveIncomeButton6)) {
              if (score >= passiveIncomeCost6) {
                score -= passiveIncomeCost6;
                passiveIncomeLevel6++;
                passiveIncomeCost6 *= 2;
              }
            }
          }

          if (ismenuOpen) {
          if (isPointInRect(x, y, autoClickerButton)) {
            if (score >= autoClickerCost) {
              score -= autoClickerCost;
              autoClickerLevel++;
              autoClickerCost *= 2;
            }
          }
        }

          return; // Exit early if any menu is open
        }

        // button component click handling
        if (
            x >= button.x - button.width / 2 &&
            x <= button.x + button.width / 2 &&
            y >= button.y - button.height / 2 &&
            y <= button.y + button.height / 2 &&
            energy > 0 // Enerji kontrolü if bloğuna taşındı
        ) {
            score += 1 + autoClickerLevel;
            flyingScores.push({
                x: x,
                y: y,
                value: 1 + autoClickerLevel,
                opacity: 1,
            });
            isButtonAnimating = true;
            buttonScale = 1;
            energy--; // Enerji azaltma
        } else {
            // Enerjiniz bittiğinde yapılacak işlemler (örneğin bir uyarı mesajı)
            console.log("You're out of energy! Wait..."); 
        }

        // menu button click handling
        if (
          x > menuButton.x - menuButton.width / 2 &&
          x < menuButton.x + menuButton.width / 2 &&
          y > menuButton.y &&
          y < menuButton.y + menuButton.height
        ) {
          ismenuOpen = !ismenuOpen; // Toggle the menu state
        }

        // boost button click handling
        if (
          x > boostButton.x - boostButton.width / 2 &&
          x < boostButton.x + boostButton.width / 2 &&
          y > boostButton.y &&
          y < boostButton.y + boostButton.height
        ) {
          isboostOpen = !isboostOpen; // Toggle the menu state
        }

        // shop button click handling
        if (
          x > shopButton.x - shopButton.width / 2 &&
          x < shopButton.x + shopButton.width / 2 &&
          y > shopButton.y &&
          y < shopButton.y + shopButton.height
        ) {
          isshopOpen = !isshopOpen; // Toggle the menu state
        }

        // board button click handling
        if (
          x > boardButton.x - boardButton.width / 2 &&
          x < boardButton.x + boardButton.width / 2 &&
          y > boardButton.y &&
          y < boardButton.y + boardButton.height
        ) {
          isboardOpen = !isboardOpen; // Toggle the menu state
        }

        
      });

      gameLoop();
    </script>
  </body>
</html>
